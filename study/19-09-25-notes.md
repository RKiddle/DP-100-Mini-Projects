

```markdown
# ðŸ“… 2025â€‘09â€‘19 â€” Azure MLTable Fixes & DPâ€‘100 Study Roadmap

## ðŸ›  MLTable Debugging & Fixes

### Problem
- AutoML jobs failed with:
  - `The requested stream was not found`
  - MLTable schema validation errors (`infer_column_types` not allowed, `datetime` not supported, `columns` must be an array)

### Root Causes
1. **No `MLTable` file** in dataset folder.
2. **Invalid schema keys** (`infer_column_types`, `datetime`).
3. **Wrong `convert_column_types` format** â€” used a mapping instead of an array of objects.
4. **Asset path/version mismatch** in job references.

---

### Correct Folder Structure
```
foodpanda_processed/
    â”œâ”€â”€ foodpanda_processed.parquet
    â””â”€â”€ MLTable   # no extension
```

---

### Final Working `MLTable` (Schemaâ€‘Compliant)
```yaml
paths:
  - file: ./foodpanda_processed.parquet
transformations:
  - read_parquet: {}
  - convert_column_types:
      - columns: [StoreId]
        column_type: string
      - columns: [createdAt]
        column_type: string
      - columns: [text]
        column_type: string
      - columns: [isAnonymous]
        column_type: boolean
      - columns: [replies]
        column_type: string
      - columns: [likeCount]
        column_type: float
      - columns: [isLiked]
        column_type: boolean
      - columns: [overall]
        column_type: int
      - columns: [restaurant_food]
        column_type: int
      - columns: [rider]
        column_type: float
      - columns: [likeCount_capped]
        column_type: float
      - columns: [replies_count]
        column_type: int
      - columns: [sentiment]
        column_type: string
      - columns: [created_year]
        column_type: int
      - columns: [created_month]
        column_type: int
      - columns: [created_dow]
        column_type: int
      - columns: [created_hour]
        column_type: int
```

---

### Registering the Dataset (v2 SDK)
```python
from azure.ai.ml.entities import Data
from azure.ai.ml.constants import AssetTypes

dataset = Data(
    name="foodpanda_processed",
    version="1",
    path="./foodpanda_processed",  # folder with MLTable + parquet
    type=AssetTypes.MLTABLE
)
ml_client.data.create_or_update(dataset)
```

---

### Local Quickâ€‘Check
```python
from mltable import load
df = load("azureml:foodpanda_processed:1").to_pandas_dataframe()
print(df.head())
```

---

## ðŸ“… AutoML Date/Time Featurization

Even though `createdAt` is stored as a string in MLTable, AutoML can still treat it as a datetime:

```python
from azure.ai.ml import automl, Input
from azure.ai.ml.constants import AssetTypes

train_input = Input(
    type=AssetTypes.MLTABLE,
    path="azureml:foodpanda_processed:1"
)

tab_job = automl.classification(
    compute="cpu-spot-s",
    experiment_name="week2_sentiment_explorer",
    training_data=train_input,
    target_column_name="sentiment",
    primary_metric="accuracy",
    featurization="auto",
    featurization_settings={
        "datetime_columns": ["createdAt"]
    }
)

tab_job.set_limits(timeout_minutes=90, max_trials=12, max_concurrent_trials=1)
ml_client.jobs.create_or_update(tab_job)
```

---

## ðŸ“š DPâ€‘100 + Project Reading Roadmap

### 1. Official DPâ€‘100 Study Guide
- [Microsoft Learn â€” DPâ€‘100 Study Guide](https://learn.microsoft.com/en-us/credentials/certifications/resources/study-guides/dp-100)

### 2. Key Learning Paths
- **Create and run machine learning experiments with Azure Machine Learning**
- **Work with data in Azure Machine Learning**
- **Deploy and consume models with Azure Machine Learning**
- **Automate machine learning model selection and hyperparameter tuning**

### 3. Practice Questions
- [ExamTopics DPâ€‘100 Practice Bank](https://www.examtopics.com/exams/microsoft/dp-100/)

### 4. Projectâ€‘Relevant Docs
- [MLTable YAML Reference](https://learn.microsoft.com/en-us/azure/machine-learning/reference-yaml-mltable)
- AutoML for NLP & multilingual text
- Azure ML CLI v2 & SDK v2 data asset management
- Compute cluster setup & cost optimization

---

## ðŸ—‚ Suggested Reading Sequence
1. Skim **DPâ€‘100 study guide** for scope.
2. Read **MLTable YAML reference** (fresh from todayâ€™s fixes).
3. Do 10â€“15 **practice questions**.
4. Bookmark **AutoML featurization** docs for tomorrowâ€™s run.

---

**Next Action:**  
- âœ… Upload fixed `MLTable` + Parquet to `workspaceblobstore`
- âœ… Register as new dataset version
- âœ… Run local quickâ€‘check
- ðŸš€ Launch AutoML job with `datetime_columns` set for `createdAt`
```

---
